var snapshot=function(e,t,n,a,s,r,i,o,u,c,p,l,d){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function y(e,t,n,a){return new(n||(n=Promise))((function(s,r){function i(e){try{u(a.next(e))}catch(e){r(e)}}function o(e){try{u(a.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}u((a=a.apply(e,t||[])).next())}))}function m(e,t){var n,a,s,r,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(s=2&r[0]?a.return:r[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,r[1])).done)return s;switch(a=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,a=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(6===r[0]&&i.label<s[1]){i.label=s[1],s=r;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(r);break}s[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],a=0}finally{n=s=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function f(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),s=0;for(t=0;t<n;t++)for(var r=arguments[t],i=0,o=r.length;i<o;i++,s++)a[s]=r[i];return a}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d;var b=[{constant:!0,inputs:[{components:[{name:"target",type:"address"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{name:"blockNumber",type:"uint256"},{name:"returnData",type:"bytes[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],h={1:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-beta",42:"https://api.thegraph.com/subgraphs/name/balancer-labs/balancer-kovan"};function v(e,t){return(e.args||["%{address}"]).map((function(e){return"string"==typeof e?e.replace(/%{address}/g,t):e}))}var g=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function w(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i;return m(this,(function(u){switch(u.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,g,a.map((function(e){return[s.address,"balanceOf",[e]]})),{blockTag:e})];case 1:return i=u.sent(),[2,Object.fromEntries(i.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.toString(),s.decimals))]})))]}}))}))}function k(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var n,s,i;return m(this,(function(o){switch(o.label){case 0:return n={delegations:{__args:{where:{delegate_in:a.map((function(e){return e.toLowerCase()})),delegator_not_in:a.map((function(e){return e.toLowerCase()})),space_in:["",e]},first:1e3},delegator:!0,space:!0,delegate:!0}},"latest"!==r&&(n.delegations.__args.block={number:r}),[4,H(G[t],n)];case 1:return(s=o.sent())&&s.delegations?(i={},s.delegations.forEach((function(e){return i[e.delegator]=e.delegate})),s.delegations.filter((function(e){return""!==e.space})).forEach((function(e){return i[e.delegator]=e.delegate})),[2,Object.fromEntries(a.map((function(e){return[e,Object.entries(i).filter((function(t){var n=t[1];return e.toLowerCase()===n})).map((function(e){return e[0]}))]})))]):[2,{}]}}))}))}var x={1:"0x9ef05f7f6deb616fd37ac3c959a2ddd25a54e4f5"},T=[{constant:!0,inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];var M={1:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984"},_=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"}];var S=[{constant:!0,inputs:[],name:"getPricePerFullShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];var E=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"memberAddressByDelegateKey",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"members",outputs:[{internalType:"address",name:"delegateKey",type:"address"},{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"uint256",name:"loot",type:"uint256"},{internalType:"bool",name:"exists",type:"bool"},{internalType:"uint256",name:"highestIndexYesVote",type:"uint256"},{internalType:"uint256",name:"jailed",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var O={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2"};var C=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"}];var D=[{constant:!0,inputs:[{name:"",type:"address"}],name:"issuanceData",outputs:[{name:"initialDebtOwnership",type:"uint256"},{name:"debtEntryIndex",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];var j=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"borrowBalanceStored",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];var B={1:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-v2",3:"https://api.thegraph.com/subgraphs/name/creamfinancedev/cream-swap-dev"},A=[{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];function P(e,t,n,a){return y(this,void 0,void 0,(function(){var s,r,o;return m(this,(function(u){switch(u.label){case 0:return s={poolShares:{__args:{where:{userAddress_in:t.map((function(e){return e.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==a&&(s.poolShares.__args.block={number:a}),[4,H(B[e],s)];case 1:return r=u.sent(),o={},r&&r.poolShares&&r.poolShares.forEach((function(e){return e.poolId.tokens.map((function(t){if(t.id.split("-")[1]===n.toLowerCase()){var a=i.getAddress(e.userAddress.id);o[a]||(o[a]=0),o[a]=o[a]+t.balance/e.poolId.totalShares*e.balance}}))})),[2,o||{}]}}))}))}function I(e,t,n,a,s){return y(this,void 0,void 0,(function(){var r,i,u,c,p,l,d;return m(this,(function(y){switch(y.label){case 0:for(r="number"==typeof s?s:"latest",i=a.pools.length,u=n.length,c=[],p=function(e){c.push.apply(c,n.map((function(t){return[a.pools[e].address,"balanceOf",[t]]})))},l=0;l<i;l++)p(l);return[4,z(e,t,A,c,{blockTag:r})];case 1:return d=y.sent(),[2,Object.fromEntries(n.map((function(e,t){for(var n=0,a=0;a<i;a++)n+=parseFloat(o.formatUnits(d[t+a*u].toString(),18));return[e,n]})))]}}))}))}var F={balancer:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,n,o;return m(this,(function(u){switch(u.label){case 0:return e={poolShares:{__args:{where:{userAddress_in:a.map((function(e){return e.toLowerCase()})),balance_gt:0},first:1e3,orderBy:"balance",orderDirection:"desc"},userAddress:{id:!0},balance:!0,poolId:{totalShares:!0,tokens:{id:!0,balance:!0}}}},"latest"!==r&&(e.poolShares.__args.block={number:r}),[4,H(h[t],e)];case 1:return n=u.sent(),o={},n&&n.poolShares&&n.poolShares.forEach((function(e){return e.poolId.tokens.map((function(t){if(t.id.split("-")[1]===s.address.toLowerCase()){var n=i.getAddress(e.userAddress.id);o[n]||(o[n]=0),o[n]=o[n]+t.balance/e.poolId.totalShares*e.balance}}))})),[2,o||{}]}}))}))},"contract-call":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i;return m(this,(function(u){switch(u.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,[s.methodABI],a.map((function(e){return[s.address,s.methodABI.name,v(s,e)]})),{blockTag:e})];case 1:return i=u.sent(),[2,Object.fromEntries(i.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.toString(),s.decimals))]})))]}}))}))},"erc20-balance-of":w,"erc20-balance-of-fixed-total":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i;return m(this,(function(o){switch(o.label){case 0:return[4,w(0,t,n,a,s,r)];case 1:return e=o.sent(),i=Object.values(e).reduce((function(e,t){return e+t}),0),[2,Object.fromEntries(Object.entries(e).map((function(e){return[e[0],s.total*e[1]/i]})))]}}))}))},"erc20-balance-of-cv":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e;return m(this,(function(i){switch(i.label){case 0:return[4,w(0,t,n,a,s,r)];case 1:return e=i.sent(),[2,Object.fromEntries(Object.entries(e).map((function(e){return[e[0],Math.sqrt(e[1])]})))]}}))}))},"erc20-balance-of-coeff":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e;return m(this,(function(i){switch(i.label){case 0:return[4,w(0,t,n,a,s,r)];case 1:return e=i.sent(),[2,Object.fromEntries(Object.entries(e).map((function(e){return[e[0],e[1]*s.coeff]})))]}}))}))},"erc20-with-balance":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e;return m(this,(function(i){switch(i.label){case 0:return[4,w(0,t,n,a,s,r)];case 1:return e=i.sent(),[2,Object.fromEntries(Object.entries(e).map((function(e){return[e[0],e[1]>(s.minBalance||0)?1:0]})))]}}))}))},"erc20-balance-of-delegation":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var i,o;return m(this,(function(u){switch(u.label){case 0:return[4,k(e,t,0,a,0,r)];case 1:return i=u.sent(),0===Object.keys(i).length?[2,{}]:(console.debug("Delegations",i),[4,w(0,t,n,Object.values(i).reduce((function(e,t){return e.concat(t)})),s,r)]);case 2:return o=u.sent(),console.debug("Delegators score",o),[2,Object.fromEntries(a.map((function(e){return[e,i[e]?i[e].reduce((function(e,t){return e+o[t]}),0):0]})))]}}))}))},"eth-balance":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,s;return m(this,(function(i){switch(i.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,b,a.map((function(e){return[V[t],"getEthBalance",[e]]})),{blockTag:e})];case 1:return s=i.sent(),[2,Object.fromEntries(s.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.toString(),18))]})))]}}))}))},"maker-ds-chief":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i;return m(this,(function(u){switch(u.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,T,a.map((function(e){return[x[t],"deposits",[e]]})),{blockTag:e})];case 1:return i=u.sent(),[2,Object.fromEntries(i.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.toString(),s.decimals))]})))]}}))}))},uni:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i;return m(this,(function(u){switch(u.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,_,a.map((function(n){return[M[t],"getCurrentVotes",[n.toLowerCase()],{blockTag:e}]})))];case 1:return i=u.sent(),[2,Object.fromEntries(i.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.toString(),s.decimals))]})))]}}))}))},"yearn-vault":function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i,u,c;return m(this,(function(p){switch(p.label){case 0:return e="number"==typeof r?r:"latest",[4,Promise.all([w(0,t,n,a,s,r),z(t,n,S,[[s.address,"getPricePerFullShare",[]]],{blockTag:e})])];case 1:return i=p.sent(),u=i[0],c=i[1][0],c=parseFloat(o.formatUnits(c.toString(),18)),[2,Object.fromEntries(Object.entries(u).map((function(e){return[e[0],e[1]*c]})))]}}))}))},moloch:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i,u;return m(this,(function(c){switch(c.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,E,a.map((function(e){return[s.address,"memberAddressByDelegateKey",[e]]})),{blockTag:e})];case 1:return i=c.sent(),[4,z(t,n,E,i.filter((function(e){return"0x0000000000000000000000000000000000000000"!==e.toString()})).map((function(e){return[s.address,"members",[e.toString()]]})),{blockTag:e})];case 2:return u=c.sent(),[2,Object.fromEntries(u.map((function(e,t){return[a[t],parseFloat(o.formatUnits(e.shares.toString(),s.decimals))]})))]}}))}))},uniswap:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,n,o,u;return m(this,(function(c){switch(c.label){case 0:return e={users:{__args:{where:{id_in:a.map((function(e){return e.toLowerCase()}))},first:1e3},id:!0,liquidityPositions:{__args:{where:{liquidityTokenBalance_gt:0}},liquidityTokenBalance:!0,pair:{id:!0,token0:{id:!0},reserve0:!0,token1:{id:!0},reserve1:!0,totalSupply:!0}}}},"latest"!==r&&(e.users.liquidityPositions.__args.block={number:r}),n=s.address.toLowerCase(),[4,H(O[t],e)];case 1:return o=c.sent(),u={},o&&o.users&&o.users.forEach((function(e){e.liquidityPositions.filter((function(e){return e.pair.token0.id==n||e.pair.token1.id==n})).forEach((function(t){var a=t.pair.reserve0/t.pair.totalSupply,s=t.pair.reserve1/t.pair.totalSupply,r=t.pair.token0.id==n?a*t.liquidityTokenBalance:s*t.liquidityTokenBalance,o=i.getAddress(e.id);u[o]||(u[o]=0),u[o]=u[o]+r}))})),[2,u||{}]}}))}))},pancake:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i,u;return m(this,(function(c){switch(c.label){case 0:return e="number"==typeof r?r:"latest",[4,w(0,t,n,a,s,r)];case 1:return i=c.sent(),[4,Promise.all(s.chefAddresses.map((function(s){return z(t,n,C,a.map((function(t){return[s,"userInfo",[t],{blockTag:e}]})),{blockTag:e})})))];case 2:return u=c.sent(),[2,Object.fromEntries(Object.entries(i).map((function(e,t){return[e[0],e[1]+u.reduce((function(e,n){return e+parseFloat(o.formatUnits(n[t].amount.toString(),s.decimals))}),0)]})))]}}))}))},synthetix:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,s,i;return m(this,(function(u){switch(u.label){case 0:return e="number"==typeof r?r:"latest",[4,z(t,n,D,a.map((function(e){return["0x4b9Ca5607f1fF8019c1C6A3c2f0CC8de622D5B82","issuanceData",[e]]})),{blockTag:e})];case 1:return s=u.sent(),i=function(e){var t=1e5*e;return console.log("scaledValue",t),Math.sqrt(t)},[2,Object.fromEntries(s.map((function(e,t){return[a[t],i(parseFloat(o.formatUnits(e.initialDebtOwnership.toString(),27)))]})))]}}))}))},ctoken:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i,u,c,p,l,d,y,f,b,h,v,g,w,k,x;return m(this,(function(m){switch(m.label){case 0:return e="number"==typeof r?r:"latest","number"!=typeof r?[3,1]:(u=r-s.offsetCheck,[3,3]);case 1:return[4,n.getBlockNumber()];case 2:u=m.sent()-s.offsetCheck,m.label=3;case 3:return i=u,c=a.map((function(e){return[s.address,"balanceOf",[e]]})),p=a.map((function(e){return[s.address,"borrowBalanceStored",[e]]})),l=c.concat(p),[4,Promise.all([z(t,n,j,l,{blockTag:e}),z(t,n,j,a.map((function(e){return[s.address,"balanceOf",[e]]})),{blockTag:i})])];case 4:for(d=m.sent(),y=d[0],f=d[1],b=y.slice(0,a.length),h=y.slice(a.length),v={},g=0;g<b.length;g++)w=1,s.borrowingRestricted&&(w=0==h[g].toString().localeCompare("0")?1:0),k=parseFloat(o.formatUnits(b[g].toString(),s.decimals)),x=parseFloat(o.formatUnits(f[g].toString(),s.decimals)),v[a[g]]=Math.min(k,x)*w;return[2,v]}}))}))},cream:function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var e,i,o,u,c,p,l,d,y;return m(this,(function(m){switch(m.label){case 0:return e=s.address,[4,Promise.all([P(t,a,e,r),I(t,n,a,s,r)])];case 1:for(i=m.sent(),o=i[0],u=i[1],c=0,p=Object.entries(u);c<p.length;c++)l=p[c],d=l[0],y=l[1],o[d]||(o[d]=0),o[d]=o[d]+y;return[2,o||{}]}}))}))}},L={1:{key:"1",name:"Ethereum Mainnet",chainId:1,network:"homestead",rpc:[{url:"https://api-geth-archive.ankr.com",user:"balancer_user",password:"balancerAnkr20201015"},"https://eth-mainnet.alchemyapi.io/v2/4bdDVB5QAaorY2UE-GBUbM2yQB3QJqzv","https://eth-archival.gateway.pokt.network/v1/5f76124fb90218002e9ce985","https://cloudflare-eth.com"],ws:["wss://eth-mainnet.ws.alchemyapi.io/v2/4bdDVB5QAaorY2UE-GBUbM2yQB3QJqzv"],explorer:"https://etherscan.io"},4:{key:"4",name:"Ethereum Testnet Rinkeby",chainId:4,network:"rinkeby",rpc:["https://eth-rinkeby.alchemyapi.io/v2/twReQE9Px03E-E_N_Fbb3OVF7YgHxoGq","https://eth-rinkeby.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://eth-rinkeby.ws.alchemyapi.io/v2/twReQE9Px03E-E_N_Fbb3OVF7YgHxoGq"],explorer:"https://rinkeby.etherscan.io"},7:{key:"7",name:"ThaiChain",chainId:7,network:"mainnet",rpc:["https://rpc.dome.cloud"],ws:["wss://ws.dome.cloud"],explorer:"https://exp.tch.in.th"},42:{key:"42",name:"Ethereum Testnet Kovan",chainId:42,network:"kovan",rpc:["https://eth-kovan.alchemyapi.io/v2/QCsM2iU0bQ49eGDmZ7-Y--Wpu0lVWXSO","https://poa-kovan.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://eth-kovan.ws.alchemyapi.io/v2/QCsM2iU0bQ49eGDmZ7-Y--Wpu0lVWXSO"],explorer:"https://kovan.etherscan.io"},56:{key:"56",name:"Binance Smart Chain Mainnet",chainId:56,network:"mainnet",rpc:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org"],explorer:"https://bscscan.com"},61:{key:"61",name:"Ethereum Classic Mainnet",chainId:61,network:"mainnet",rpc:["https://ethereumclassic.network"],explorer:"https://blockscout.com/etc/mainnet"},97:{key:"97",name:"Binance Smart Chain Testnet",chainId:97,network:"testnet",rpc:["https://data-seed-prebsc-1-s1.binance.org:8545"],explorer:"https://testnet.bscscan.com"},100:{key:"100",name:"xDAI Chain",chainId:100,network:"mainnet",rpc:["https://xdai-archive.blockscout.com","https://poa-xdai.gateway.pokt.network/v1/5f76124fb90218002e9ce985"],ws:["wss://rpc.xdaichain.com/wss"],explorer:"https://blockscout.com/poa/xdai"},137:{key:"137",name:"Matic Mainnet",chainId:137,network:"mainnet",rpc:["https://rpc-mainnet.matic.network"],ws:["wss://ws-mainnet.matic.network"],explorer:""},420:{key:"420",name:"Optimistic Ethereum",chainId:420,network:"mainnet",explorer:""},32659:{key:"32659",name:"Fusion Mainnet",chainId:32659,network:"mainnet",rpc:["https://vote.anyswap.exchange/mainnet"],ws:["wss://mainnetpublicgateway1.fusionnetwork.io:10001"],explorer:"https://fsnex.com"},80001:{key:"80001",name:"Matic Mumbai",chainId:80001,network:"testnet",rpc:["https://rpc-mumbai.matic.today"],ws:["wss://ws-mumbai.matic.today"],explorer:""},wanchain:{key:"wanchain",name:"Wanchain",chainId:1,network:"mainnet",rpc:["https://gwan-ssl.wandevs.org:56891"],ws:["wss://api.wanchain.org:8443/ws/v3/ddd16770c68f30350a21114802d5418eafe039b722de52b488e7eee1ee2cd73f"],explorer:"https://www.wanscan.org"}},U={};var q=["ipns-ns","ipfs-ns","swarm-ns","onion","onion3"],R=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"resolverAddress",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],Q=[{constant:!0,inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"}];var V={1:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",4:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",5:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",6:"0x53c43764255c17bd724f74c4ef150724ac50a3ed",42:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",56:"0x1ee38d535d541c55c9dae27b12edf090c608e6fb",97:"0x8b54247c6BAe96A6ccAFa468ebae96c4D7445e46",100:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",wanchain:"0xba5934ab3056fca1fa458d30fbb3810c3eb5145f"},G={1:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot",4:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-rinkeby",42:"https://api.thegraph.com/subgraphs/name/snapshot-labs/snapshot-kovan"};function N(e,t,n,s){return y(this,void 0,void 0,(function(){var r,i,o;return m(this,(function(u){switch(u.label){case 0:r=new a.Contract(n[0],t,e),u.label=1;case 1:return u.trys.push([1,3,,4]),i=n[2]||[],[4,r[n[1]].apply(r,f(i,[s||{}]))];case 2:return[2,u.sent()];case 3:return o=u.sent(),[2,Promise.reject(o)];case 4:return[2]}}))}))}function z(e,t,s,r,i){return y(this,void 0,void 0,(function(){var o,u,c;return m(this,(function(p){switch(p.label){case 0:o=new a.Contract(V[e],b,t),u=new n.Interface(s),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,o.aggregate(r.map((function(e){return[e[0].toLowerCase(),u.encodeFunctionData(e[1],e[2])]})),i||{})];case 2:return c=p.sent(),[2,c[1].map((function(e,t){return u.decodeFunctionResult(r[t][1],e)}))];case 3:return p.sent(),[2,Promise.reject()];case 4:return[2]}}))}))}function H(e,t){return y(this,void 0,void 0,(function(){return m(this,(function(n){switch(n.label){case 0:return[4,fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({query:s.jsonToGraphQLQuery({query:t})})})];case 1:return[4,n.sent().json()];case 2:return[2,n.sent().data||{}]}}))}))}function Y(e,t,n,s,r,i){return void 0===i&&(i={}),y(this,void 0,void 0,(function(){var o,u,c;return m(this,(function(p){switch(p.label){case 0:return o=e.getSigner(),u=new a.Contract(t,n,e),[4,(c=u.connect(o))[s].apply(c,f(r,[i]))];case 1:return[2,p.sent()]}}))}))}var W={call:N,multicall:z,subgraphRequest:H,ipfsGet:function(e,t,n){return void 0===n&&(n="ipfs"),y(this,void 0,void 0,(function(){return m(this,(function(a){return[2,fetch("https://"+e+"/"+n+"/"+t).then((function(e){return e.json()}))]}))}))},sendTransaction:Y,getScores:function(e,t,n,a,s,r){return void 0===r&&(r="latest"),y(this,void 0,void 0,(function(){return m(this,(function(i){switch(i.label){case 0:return[4,Promise.all(t.map((function(t){return F[t.name](e,n,a,s,t.params,r)})))];case 1:return[2,i.sent()]}}))}))},validateSchema:function(e,t){var n=(new r).compile(e),a=n(t);return a||n.errors},getProvider:function(e){var t=L[e].rpc[0];return U[e]||(U[e]=new u.JsonRpcProvider(t)),U[e]},decodeContenthash:function(e){var t,n,a;if(e.error)return{protocolType:null,decoded:e.error};if(e)try{t=c.decode(e);var s=c.getCodec(e);"ipfs-ns"===s?(t=c.helpers.cidV0ToV1Base32(t),n="ipfs"):"ipns-ns"===s?(t=d.decode(t).slice(2).toString(),n="ipns"):"swarm-ns"===s?n="bzz":"onion"===s?n="onion":"onion3"===s?n="onion3":t=e}catch(e){a=e.message}return{protocolType:n,decoded:t,error:a}},validateContent:function(e){return c.isHashOfType(e,c.Types.ipfs)||c.isHashOfType(e,c.Types.swarm)},isValidContenthash:function(e){try{var t=c.getCodec(e);return l.isHexString(e)&&q.includes(t)}catch(e){console.log(e)}},encodeContenthash:function(e){var t,n,a=!1;if(e){var s=e.match(/^(ipfs|ipns|bzz|onion|onion3):\/\/(.*)/)||e.match(/\/(ipfs)\/(.*)/)||e.match(/\/(ipns)\/(.*)/);s&&(n=s[1],t=s[2]);try{if("ipfs"===n)t.length>=4&&(a="0x"+c.encode("ipfs-ns",t));else if("ipns"===n){var r=d.encode(Buffer.concat([Buffer.from([0,t.length]),Buffer.from(t)]));a="0x"+c.encode("ipns-ns",r)}else"bzz"===n?t.length>=4&&(a="0x"+c.fromSwarm(t)):"onion"===n?16==t.length&&(a="0x"+c.encode("onion",t)):"onion3"===n?56==t.length&&(a="0x"+c.encode("onion3",t)):console.warn("Unsupported protocol or invalid value",{contentType:n,text:e})}catch(t){console.warn("Error encoding content hash",{text:e,encoded:a})}}return a},resolveENSContentHash:function(e,t){return y(this,void 0,void 0,(function(){var n,a;return m(this,(function(s){switch(s.label){case 0:return n=p.namehash(e),[4,N(t,R,["0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e","resolver",[n]])];case 1:return a=s.sent(),[4,N(t,Q,[a,"contenthash",[n]])];case 2:return[2,s.sent()]}}))}))}},J=""+"0x".padEnd(42,"0"),K={1:"https://api.thegraph.com/subgraphs/name/aragon/aragon-govern-mainnet",4:"https://api.thegraph.com/subgraphs/name/evalir/aragon-govern-rinkeby"},$=[{inputs:[{components:[{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"executionTime",type:"uint256"},{internalType:"address",name:"submitter",type:"address"},{internalType:"contract IERC3000Executor",name:"executor",type:"address"},{components:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ERC3000Data.Action[]",name:"actions",type:"tuple[]"},{internalType:"bytes32",name:"allowFailuresMap",type:"bytes32"},{internalType:"bytes",name:"proof",type:"bytes"}],internalType:"struct ERC3000Data.Payload",name:"payload",type:"tuple"},{components:[{internalType:"uint256",name:"executionDelay",type:"uint256"},{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ERC3000Data.Collateral",name:"scheduleDeposit",type:"tuple"},{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct ERC3000Data.Collateral",name:"challengeDeposit",type:"tuple"},{internalType:"address",name:"resolver",type:"address"},{internalType:"bytes",name:"rules",type:"bytes"}],internalType:"struct ERC3000Data.Config",name:"config",type:"tuple"}],internalType:"struct ERC3000Data.Container",name:"_container",type:"tuple"}],name:"schedule",outputs:[{internalType:"bytes32",name:"containerHash",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],X=[{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Z={registryEntry:{__args:{id:void 0},executor:{address:!0},queue:{address:!0,config:{executionDelay:!0,scheduleDeposit:{token:!0,amount:!0},challengeDeposit:{token:!0,amount:!0},resolver:!0,rules:!0}}}};function ee(n,a,s,r,i,o){return y(this,void 0,void 0,(function(){var u,c,p,l,d,y,f,b;return m(this,(function(m){switch(m.label){case 0:return(u=Z).registryEntry.__args.id=s,[4,H(K[n],u)];case 1:return c=m.sent(),p=c.registryEntry.queue.config,[4,N(a,$,[c.registryEntry.queue.address,"nonce"])];case 2:return l=m.sent(),d=new e(l.toString()),y=d.add(new e("1")),f=Math.round(Date.now()/1e3)+Number(p.executionDelay)+60,[4,N(a,X,[p.scheduleDeposit.token,"allowance",r,c.registryEntry.queue.address])];case 3:return(b=m.sent()).lt(new e(p.scheduleDeposit.amount))&&p.scheduleDeposit.token!==J?b.isZero()?[3,6]:[4,Y(a,p.scheduleDeposit.token,X,"approve",[r,"0"])]:[3,8];case 4:return[4,m.sent().wait(1)];case 5:m.sent(),m.label=6;case 6:return[4,Y(a,p.scheduleDeposit.token,X,"approve",[r,p.scheduleDeposit.amount])];case 7:m.sent(),m.label=8;case 8:return[4,Y(a,c.registryEntry.queue.address,$,"schedule",[{payload:{nonce:y.toString(),executionTime:f,submitter:r,executor:c.registryEntry.executor.address,actions:o,allowFailuresMap:"0x0000000000000000000000000000000000000000000000000000000000000000",proof:i?t.toUtf8Bytes(i):"0x00"},config:{executionDelay:p.executionDelay,scheduleDeposit:{token:p.scheduleDeposit.token,amount:p.scheduleDeposit.amount},challengeDeposit:{token:p.challengeDeposit.token,amount:p.challengeDeposit.amount},resolver:p.resolver,rules:p.rules}}],{gasLimit:5e5})];case 9:return[2,m.sent()]}}))}))}var te=function(){function e(){this.author="Evalir",this.version="0.1.3",this.name="Aragon Govern",this.website="https://aragon.org/blog/snapshot"}return e.prototype.action=function(e,t,n,a,s,r){return y(this,void 0,void 0,(function(){var i,o;return m(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.listAccounts()];case 1:return i=u.sent()[0],[4,ee(e,t,n.id,i,s,a["choice"+r].actions)];case 2:return[2,u.sent()];case 3:return o=u.sent(),console.error(o),[3,4];case 4:return[2]}}))}))},e}(),ne={1:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2",4:"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v2-rinkeby"},ae={1:"https://api.thegraph.com/subgraphs/name/protofire/omen",4:"https://api.thegraph.com/subgraphs/name/protofire/omen-rinkeby"},se={condition:{__args:{id:void 0},id:!0,fixedProductMarketMakers:{id:!0,collateralToken:!0,outcomeTokenAmounts:!0,outcomeTokenMarginalPrices:!0}}},re={pairs:{__args:{where:{token0:!0,token1:!0}},token0Price:!0}},ie=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}],oe=function(e,t,n){return y(void 0,void 0,void 0,(function(){return m(this,(function(a){switch(a.label){case 0:return[4,N(e,ie,[t,n])];case 1:return[2,a.sent()]}}))}))},ue=function(){function e(){this.author="davidalbela",this.version="0.0.1",this.name="Gnosis Impact",this.website="https://gnosis.io"}return e.prototype.getTokenInfo=function(e,t){return y(this,void 0,void 0,(function(){var n,a;return m(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),n={address:t,checksumAddress:i.getAddress(t)},[4,oe(e,t,"name")];case 1:return n.name=s.sent(),[4,oe(e,t,"symbol")];case 2:return[2,(n.symbol=s.sent(),n)];case 3:throw a=s.sent(),new Error(a);case 4:return[2]}}))}))},e.prototype.getOmenCondition=function(e,t){return y(this,void 0,void 0,(function(){var n,a;return m(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),(n=se).condition.__args.id=t,[4,H(ae[e],n)];case 1:return[2,s.sent()];case 2:return a=s.sent(),console.error(a),[3,3];case 3:return[2]}}))}))},e.prototype.getUniswapPair=function(e,t,n){return y(this,void 0,void 0,(function(){var a,s;return m(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),(a=re).pairs.__args.where={token0:t.toLowerCase(),token1:n.toLowerCase()},[4,H(ne[e],a)];case 1:return[2,r.sent()];case 2:return s=r.sent(),console.error(s),[3,3];case 3:return[2]}}))}))},e}(),ce={aragon:te,gnosis:ue},pe={space:{$schema:"http://json-schema.org/draft-07/schema#",$ref:"#/definitions/Space",definitions:{Space:{title:"Space",type:"object",properties:{name:{type:"string",title:"name",maxLength:32},network:{type:"string",title:"network",maxLength:32},symbol:{type:"string",title:"symbol",maxLength:12},skin:{type:"string",title:"skin",maxLength:32},domain:{type:"string",title:"domain",maxLength:64},strategies:{type:"array",minItems:1,maxItems:3,items:{type:"object",properties:{name:{type:"string",maxLength:64,title:"name"},params:{type:"object",title:"params"}},required:["name"],additionalProperties:!1},title:"strategies"},members:{type:"array",items:{type:"string",maxLength:64},title:"members"},filters:{type:"object",properties:{defaultTab:{type:"string"},minScore:{type:"number",minimum:0},onlyMembers:{type:"boolean"},invalids:{type:"array",items:{type:"string",maxLength:64},title:"invalids"}},additionalProperties:!1}},required:["name","network","symbol","strategies"],additionalProperties:!1}}}.definitions.Space};return{plugins:ce,strategies:F,schemas:pe,utils:W}}(BN,strings,abi$8,contracts,jsonToGraphqlQuery,Ajv,address,units,providers$1,contentHash,hash,bytes,bs58);
